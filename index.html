<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Explore insights into greenhouse gas emissions trends across countries and sectors.">
    <meta name="keywords" content="Greenhouse Gas Emissions, Data Visualization, D3, Sustainability">
    <meta name="author" content="Charlene Chai and Sherman Tan">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greenhouse Gas Emissions Insights</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
    <nav class="navbar">
        <div class="nav-links">
            <a href="index.html#section1" class="nav-link">Project Overview</a>
            <div class="dropdown">
                <a href="javascript:void(0)" class="nav-link dropbtn">Visualisations</a>
                <div class="dropdown-content">
                    <a href="index.html#section3">Visualisation 1</a>
                    <a href="index.html#section4">Visualisation 2</a>
                    <a href="index.html#section5">Visualisation 3</a>
                </div>
            </div>
            <a href="aboutus.html" class="nav-link">About Us</a>
        </div>
    </nav>

    <main id="contents">
        <section id="section1">
            <div class="container">
                <h1>Greenhouse Gas Emissions Insights</h1>
                <a href="#section2" id="scrollBtn">
                    <button class="styled-button">Explore Insights</button>
                </a>
            </div>
        </section>

        <section id="section2">
            <div class="container">
                <h2>Purpose of the Insights</h2>
                <div class="content">
                    <div class="text-content">
                        <p>
                            Greenhouse gas emissions continue to rise globally even though actions are taken to reduce the impact of climate change. Industrial activities such as 
                            agriculture, deforestation, and fossil fuels are the main contributors to global warming. Some countries have taken actions to reduce greenhouse gas 
                            emissions, but along with economic development, energy demand rises as well as greenhouse gas emissions. Although carbon dioxide is the most significant 
                            contributor to greenhouse gas emissions, other gases such as methane, nitrous, and sulfur oxide severely impact global warming. The visualisation in 
                            this project aims to provide clear visualisations to raise awareness among the public regarding the rise of greenhouse gas emissions and provide data such 
                            as emissions trends to researchers and policymakers to better enforce policies that reduce greenhouse gas emissions.
                        </p>
                        <button id="backBtn" class="back-btn">Back</button>
                    </div>

                    <div class="video-content">
                        <video autoplay loop muted playsinline style="width: 100%; border-radius: 8px;">
                            <source src="resource/ice-on-lake.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
                <a href="#section3" id="scrollBtn2">
                    <button class="styled-button2">Explore Visualisation</button>
                </a>
            </div>
        </section>

        <section id="section3">
            <div class="container">
                <h2 class="section-heading">Visualisation 1</h2>
                <div id="chart"></div> <!-- Chart container -->
            </div>
        </section>
        
        <section id="section4">
            <div class="container">
                <h2 class="section-heading">Visualisation 2</h2>
            </div>
        </section>
        
        <section id="section5">
            <div class="container">
                <h2 class="section-heading">Visualisation 3</h2>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; COS30045 Data Visualisation</p>
            <p>by Charlene Chai &amp; Sherman Tan</p>
        </div>
    </footer>

    <script src="vis1.js"></script> <!-- Include the JavaScript for Visualization 1 -->

    <script>
        $(document).ready(function () {
            // Function to check if an element is in view
            function isInView(elem) {
                var elementTop = $(elem).offset().top;
                var elementBottom = elementTop + $(elem).outerHeight();
                var viewportTop = $(window).scrollTop();
                var viewportBottom = viewportTop + $(window).height();
                return elementBottom > viewportTop && elementTop < viewportBottom;
            }

            // Smooth scroll when clicking the scroll button
            $('#scrollBtn').on('click', function (e) {
                e.preventDefault();
                var target = $(this).attr('href');
                $('html, body').animate({
                    scrollTop: $(target).offset().top
                }, 1000, function () {
                    $('#backBtn').fadeIn();
                });
            });

            // Smooth scroll for the second button in section2
            $('#scrollBtn2').on('click', function (e) {
                e.preventDefault();
                $('html, body').animate({
                    scrollTop: $('#section3').offset().top
                }, 1000);
            });

            // Scroll back to section1 when clicking the back button
            $('#backBtn').on('click', function (e) {
                e.preventDefault();
                $('html, body').animate({
                    scrollTop: $('#section1').offset().top
                }, 1000, function () {
                    $('#backBtn').fadeOut();
                });
            });

            // Optional: Hide the back button initially
            $('#backBtn').hide();

            $('.nav-link').on('click', function (e) {
                var target = $(this).attr('href');

                // Allow the browser to handle navigation naturally for external links
                if (!target.includes("#")) {
                    window.location.href = target;
                } else {
                    // Smooth scroll for internal links only within the same page
                    e.preventDefault();
                    var targetSection = target.split("#")[1];
                    $('html, body').animate({
                        scrollTop: $("#" + targetSection).offset().top
                    }, 1000);
                }
            });
        });
    </script>
</body>
</html>
